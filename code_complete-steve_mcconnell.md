# Глава 7. Методы 

## Причины создания методов
- Самая важная причина создания метода — снижение сложности программы. Создайте метод для сокрытия информации, чтобы о ней можно было не думать. Без абстрагирующей силы методов сложные программы было бы невозможно охватить умом.
- Необходимо создавать методы для сложных булевых проверок.
- Методы позволяют выполнять оптимизацию кода в одном месте, а не в нескольких. Они облегчают профилирование кода, направленное на определение неэффективных фрагментов.
- Один из главных ментальных барьеров, препятствующих созданию эффективных методов, — нежелание создавать простой метод для простой цели.

## Именование

- Для документирования метода достаточно присвоить ему удачное имя.

- В случае методов связность характеризует соответствие выполняемых в методе операций единой цели.

- Главной задачей имени метода следует считать как можно более ясное и понятное описание сути метода, поэтому имя может иметь любую длину, удовлетворяющую этой цели.

- Дисциплинированно используйте антонимы. Применение конвенций именования, подразумевающих использование антонимов, поддерживает согласованность имен, что облегчает чтение кода. Антонимы вроде `first/last` понятны всем. Пары вроде `FileOpen()` и `_lclose()` несимметричны и вызывают замешательство.

## Параметры

- Не используйте параметры метода в качестве рабочих переменных.
- Если вы предполагаете, что передаваемые в метод данные должны иметь определенные характеристики, сразу же документируйте эти предположения. Необходимо документировать: единицы измерения. Начальное значение индекса 0 или 1.
- Если при передаче всего объекта вы создаете объект, заполняете его тремя элементами, нужными методу, а после вызова извлекаете эти элементы из объекта, значит, вам следует передать в метод только три конкретных элемента, а не весь объект.
- Используйте именованные параметры.

----

- Пусть длину метода определяют не искусственные ограничения, а такие факторы, как связность метода, глубина вложенности, число переменных, число точек принятия решений, число комментариев, необходимых для объяснения метода, и другие соображения, связанные со сложностью кода.
- Объединение вызова и проверки в одной строке увеличивает «плотность» команды, а значит, и ее сложность. `if ( report.FormatOutput( formattedReport ) = Success ) then …`
- Ты не можешь работать, если не пишешь код, чтобы прочувствовать боль и понять, что в архитектуре что-то не так.

# Глава 8. Защитное программирование

Промышленный код должен обрабатывать ошибки более изощренно, чем по
принципу «мусор на входе — мусор на выходе».

Защита программы от неправильных входных данных:
- Проверяйте все данные из внешних источников;
- Проверяйте значения всех входных параметров метода;
- Решите, как обрабатывать неправильные входные данные.

Способы обработки ошибок:
- Вернуть нейтральное значение;
- Заменить следующим корректным блоком данных;
- Вернуть тот же результат, что и в предыдущий раз;
- Подставить ближайшее допустимое значение;
- Записать предупреждающее сообщение в файл;
- Показать сообщение об ошибке, где бы она ни случилась;
- Обработать ошибку в месте возникновения наиболее подходящим способом.
	
**Корректность** предполагает, что нельзя возвращать неточный результат; лучше не вернуть ничего, чем неточное значение.

**Устойчивость** требует всегда пытаться сделать что-то, что позволит программе продолжить работу, даже если это приведет к частично неверным результатам.

## Исключения

- Основное преимущество исключений состоит в их способности сигнализировать об ошибке так, что ее нельзя проигнорировать.
- Генерируйте исключения только для действительно исключительных ситуаций. Не используйте исключения по мелочам. Если ошибка может быть обработана локально, там ее и обрабатывайте.
- Генерируйте исключения на правильном уровне абстракции, чтобы не раскрывать внутреннее устройство метода (инкапсуляция).
- Вносите в описание исключения всю информацию о его причинах.
- Избегайте пустых блоков catch.
- Рассмотрите вопрос о централизованном выводе информации об исключениях
- Стандартизуйте использование исключений в вашем проекте
- Открытые методы класса предполагают, что данные небезопасны и отвечают за их проверку и исправление. Если данные были проверены открытыми методами класса, закрытые методы могут считать, что данные безопасны.
- Исключительные случаи должны обрабатываться так, чтобы во время разработки они были очевидны, а в промышленном коде — позволяли продолжить работу.