# Глава 8. Защитное программирование

Промышленный код должен обрабатывать ошибки более изощренно, чем по
принципу «мусор на входе — мусор на выходе».

Защита программы от неправильных входных данных:
- Проверяйте все данные из внешних источников;
- Проверяйте значения всех входных параметров метода;
- Решите, как обрабатывать неправильные входные данные.

Способы обработки ошибок:
- Вернуть нейтральное значение;
- Заменить следующим корректным блоком данных;
- Вернуть тот же результат, что и в предыдущий раз;
- Подставить ближайшее допустимое значение;
- Записать предупреждающее сообщение в файл;
- Показать сообщение об ошибке, где бы она ни случилась;
- Обработать ошибку в месте возникновения наиболее подходящим способом.
	
**Корректность** предполагает, что нельзя возвращать неточный результат; лучше не вернуть ничего, чем неточное значение.

**Устойчивость** требует всегда пытаться сделать что-то, что позволит программе продолжить работу, даже если это приведет к частично неверным результатам.

## Исключения

- Основное преимущество исключений состоит в их способности сигнализировать об ошибке так, что ее нельзя проигнорировать.
- Генерируйте исключения только для действительно исключительных ситуаций. Не используйте исключения по мелочам. Если ошибка может быть обработана локально, там ее и обрабатывайте.
- Генерируйте исключения на правильном уровне абстракции, чтобы не раскрывать внутреннее устройство метода (инкапсуляция).
- Вносите в описание исключения всю информацию о его причинах.
- Избегайте пустых блоков catch.
- Рассмотрите вопрос о централизованном выводе информации об исключениях
- Стандартизуйте использование исключений в вашем проекте
- Открытые методы класса предполагают, что данные небезопасны и отвечают за их проверку и исправление. Если данные были проверены открытыми методами класса, закрытые методы могут считать, что данные безопасны.
- Исключительные случаи должны обрабатываться так, чтобы во время разработки они были очевидны, а в промышленном коде — позволяли продолжить работу.